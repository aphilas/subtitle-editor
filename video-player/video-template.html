<template>

  <!-- TODO:
    * add sources slot
    * support attributes/properties
  -->

  <div class="video-container">
    <video class="video" width="100%"></video>

    <div class="controls">
      <button class="play-pause" title="(P)lay/Pau(s)e">P</button>
      <button class="play-clip" title="Play (C)lip">C</button>

      <button class="mute" title="(M)ute/(U)nmute">M</button>
      <input type="range" class="volume-slider" value="100">

      <span class="timer">00:00</span>
      <input type="range" class="progress-slider" value="0">
      <span class="duration">00:00</span>

      <button class="skip-back" title="Skip back">&lt;</button>
      <button class="skip-forward" title="Skip forward">&gt;</button>
      
      <button class="speed-up" title="Speed up">&gt;&gt;</button>
      <button class="slow-down" title="Slow down">&lt;&lt;</button>
    </div>
  </div>

  <style>
    :host {
      display: block;
    }

    :host([hidden]) {
      display: none;
    }

    .video {
      max-width: 100%;
    }

    .controls {
      padding: .5em;
      background-color: rgba(50, 50, 50, .3);
      transition: .5s all;
      display: none;
    }

    button {
      background: transparent;
      border: none;
      color: white;
      font-weight: bolder;
      font-size: 1em;
      padding: 0 .5em;
      cursor: pointer;
    }

    .timer, .duration {
      font-size: .75em;
      color: white;
    }

    .progress-slider {
      --track-bg-size: 0%;
      width: 30em;
    }

    .volume-slider {
      --track-bg-size: 0%;
      width: 8em;
    }

    input[type=range] {
      -webkit-appearance: none;
      background: transparent; 
    }

    input[type=range]::-webkit-slider-thumb, input[type=range]::-moz-range-thumb {
      -webkit-appearance: none;
    }

    input[type=range]:focus {
      outline: none; 
    }

    /* thumb */

    input[type=range]::-webkit-slider-thumb, input[type=range]::-moz-range-thumb {
      height: 15px;
      width: 15px;
      border-radius: 50px;
      background: #fff;
      cursor: pointer;
      border: none;
      box-shadow: 1px 0px 5px 0.5px rgba(150, 150, 150, .5);
    }

    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      margin-top: -14px; 
    }

    /* track */

    input[type=range]::-webkit-slider-runnable-track, input[type=range]::-moz-range-track {
      width: 100%;
      height: 5px;
      cursor: pointer;
      border-radius: 5px;
      background: linear-gradient(#4600FF, #4600FF) no-repeat rgba(50, 50, 50, .3);
      background-size: var(--track-bg-size) 100%;
    }

    input[type=range]:focus::-webkit-slider-runnable-track {
      background: linear-gradient(#4600FF, #4600FF) no-repeat rgba(50, 50, 50, .3);
      background-size: var(--track-bg-size) 100%;
    }

    input[type=range]::-webkit-slider-runnable-track, input[type=range]::-moz-range-track {
      background-size: var(--track-bg-size) 100%;
    }

    /* volume */

    input[type=range].volume-slider::-webkit-slider-runnable-track, input[type=range]::-moz-range-track {
      background-size: var(--track-bg-size) 100%;
    }

    input[type=range].volume-slider::-webkit-slider-runnable-track, input[type=range].volume-slider::-moz-range-track, input[type=range].volume-slider:focus::-webkit-slider-runnable-track {
      background: linear-gradient(rgba(50, 50, 50, .6), rgba(50, 50, 50, .6)) no-repeat rgba(50, 50, 50, .3);
      background-size: var(--track-bg-size) 100%;
    }
  </style>
</template>